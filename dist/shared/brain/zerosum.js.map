{"version":3,"sources":["zerosum.js"],"names":["npcMove","char","cx","x","cy","y","goodChoice","bestChoice","influence","human","influenceGrid","weight","dist","distanceTo","movement","realInfluence","push","console","log","shortCode"],"mappings":"AAAA;;AACA;AACA;AACA;AACA;AAEA;AACA,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,MAAIC,EAAE,GAAGD,IAAI,CAACE,CAAd;AAAA,MACEC,EAAE,GAAGH,IAAI,CAACI,CADZ;AAEA,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,UAAU,GAAG;AAAEJ,IAAAA,CAAC,EAAED,EAAL;AAASG,IAAAA,CAAC,EAAED,EAAZ;AAAgBI,IAAAA,SAAS,EAAEC,KAAK,CAACC,aAAN,CAAoBN,EAApB,EAAwBF,EAAxB;AAA3B,GAAjB;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,YAAMQ,MAAM,GAAGF,KAAK,CAACC,aAAN,CAAoBL,CAApB,EAAuBF,CAAvB,CAAf;AACA,UAAIS,IAAI,GAAGC,UAAU,CAAC;AAAEV,QAAAA,CAAC,EAAED,EAAL;AAASG,QAAAA,CAAC,EAAED;AAAZ,OAAD,EAAmB;AAAED,QAAAA,CAAC,EAAEA,CAAL;AAAQE,QAAAA,CAAC,EAAEA;AAAX,OAAnB,CAArB;;AACA,UAAIO,IAAI,GAAGX,IAAI,CAACa,QAAhB,EAA0B;AACxBF,QAAAA,IAAI,IAAI,GAAR;AACD;;AACD,YAAMG,aAAa,GAAGJ,MAAM,GAAGC,IAA/B;;AACA,UAAIG,aAAa,GAAGR,UAAU,CAACC,SAA/B,EAA0C;AACxCF,QAAAA,UAAU,CAACU,IAAX,CAAgBT,UAAhB,EADwC,CACZ;;AAC5BA,QAAAA,UAAU,GAAG;AAAEJ,UAAAA,CAAC,EAAEA,CAAL;AAAQE,UAAAA,CAAC,EAAEA,CAAX;AAAcG,UAAAA,SAAS,EAAEO;AAAzB,SAAb;AACD;AACD;;AACD;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAYjB,IAAI,CAACkB,SAAjB,EAA4B,IAA5B,EAAkCjB,EAAlC,EAAsC,IAAtC,EAA4CE,EAA5C;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDX,UAAlD;AACD;AACF","sourcesContent":["// class ZeroSumBrain {}\n/*\n\"There is a cancer eating at the Imperium. With each decade it advances deeper, leaving drained,dead worlds in its wake. This horror, this abomination, has thought and purpose which functions on an unimaginable, galactic scale and all we can do is try to stop the swarms of bio-engineered monsters it unleashes upon us by instinct. We have given the horror a name to salve our fears; we call it the Tyranid race, but if it is aware of us at all it must know us only as Prey.\"\n    â€” Inquisitor Bronislaw Czevak at the Conclave of Har\n*/\n\n// THIS SHIT HERE MOVES THE NPC AROUND.\nfunction npcMove(char) {\n  let cx = char.x,\n    cy = char.y\n  let goodChoice = []\n  let bestChoice = { x: cx, y: cy, influence: human.influenceGrid[cy][cx] }\n  for (let y = 0; y < 16; y++) {\n    for (let x = 0; x < 16; x++) {\n      const weight = human.influenceGrid[y][x]\n      let dist = distanceTo({ x: cx, y: cy }, { x: x, y: y })\n      if (dist > char.movement) {\n        dist *= 1.5\n      }\n      const realInfluence = weight - dist\n      if (realInfluence > bestChoice.influence) {\n        goodChoice.push(bestChoice) // No longer the best but we'll keep you in mind\n        bestChoice = { x: x, y: y, influence: realInfluence }\n      }\n      /* check position vs best choice */\n    }\n    console.log(char.shortCode, \"x=\", cx, \"y=\", cy)\n    console.log(\"Our best choice so far seems to be\", bestChoice)\n  }\n}\n"]}