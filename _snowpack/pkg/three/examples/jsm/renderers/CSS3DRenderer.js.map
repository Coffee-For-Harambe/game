{"version":3,"file":"CSS3DRenderer.js","sources":["../../../../../../../node_modules/three/examples/jsm/renderers/CSS3DRenderer.js"],"sourcesContent":["import {\n\tMatrix4,\n\tObject3D,\n\tVector3\n} from '../../../build/three.module.js';\n\n/**\n * Based on http://www.emagix.net/academic/mscs-project/item/camera-sync-with-css3-and-webgl-threejs\n */\n\nvar CSS3DObject = function ( element ) {\n\n\tObject3D.call( this );\n\n\tthis.element = element || document.createElement( 'div' );\n\tthis.element.style.position = 'absolute';\n\tthis.element.style.pointerEvents = 'auto';\n\n\tthis.addEventListener( 'removed', function () {\n\n\t\tthis.traverse( function ( object ) {\n\n\t\t\tif ( object.element instanceof Element && object.element.parentNode !== null ) {\n\n\t\t\t\tobject.element.parentNode.removeChild( object.element );\n\n\t\t\t}\n\n\t\t} );\n\n\t} );\n\n};\n\nCSS3DObject.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: CSS3DObject,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.element = source.element.cloneNode( true );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nvar CSS3DSprite = function ( element ) {\n\n\tCSS3DObject.call( this, element );\n\n};\n\nCSS3DSprite.prototype = Object.create( CSS3DObject.prototype );\nCSS3DSprite.prototype.constructor = CSS3DSprite;\n\n//\n\nvar CSS3DRenderer = function () {\n\n\tvar _this = this;\n\n\tvar _width, _height;\n\tvar _widthHalf, _heightHalf;\n\n\tvar matrix = new Matrix4();\n\n\tvar cache = {\n\t\tcamera: { fov: 0, style: '' },\n\t\tobjects: new WeakMap()\n\t};\n\n\tvar domElement = document.createElement( 'div' );\n\tdomElement.style.overflow = 'hidden';\n\n\tthis.domElement = domElement;\n\n\tvar cameraElement = document.createElement( 'div' );\n\n\tcameraElement.style.WebkitTransformStyle = 'preserve-3d';\n\tcameraElement.style.transformStyle = 'preserve-3d';\n\tcameraElement.style.pointerEvents = 'none';\n\n\tdomElement.appendChild( cameraElement );\n\n\tvar isIE = /Trident/i.test( navigator.userAgent );\n\n\tthis.getSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width,\n\t\t\theight: _height\n\t\t};\n\n\t};\n\n\tthis.setSize = function ( width, height ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\t\t_widthHalf = _width / 2;\n\t\t_heightHalf = _height / 2;\n\n\t\tdomElement.style.width = width + 'px';\n\t\tdomElement.style.height = height + 'px';\n\n\t\tcameraElement.style.width = width + 'px';\n\t\tcameraElement.style.height = height + 'px';\n\n\t};\n\n\tfunction epsilon( value ) {\n\n\t\treturn Math.abs( value ) < 1e-10 ? 0 : value;\n\n\t}\n\n\tfunction getCameraCSSMatrix( matrix ) {\n\n\t\tvar elements = matrix.elements;\n\n\t\treturn 'matrix3d(' +\n\t\t\tepsilon( elements[ 0 ] ) + ',' +\n\t\t\tepsilon( - elements[ 1 ] ) + ',' +\n\t\t\tepsilon( elements[ 2 ] ) + ',' +\n\t\t\tepsilon( elements[ 3 ] ) + ',' +\n\t\t\tepsilon( elements[ 4 ] ) + ',' +\n\t\t\tepsilon( - elements[ 5 ] ) + ',' +\n\t\t\tepsilon( elements[ 6 ] ) + ',' +\n\t\t\tepsilon( elements[ 7 ] ) + ',' +\n\t\t\tepsilon( elements[ 8 ] ) + ',' +\n\t\t\tepsilon( - elements[ 9 ] ) + ',' +\n\t\t\tepsilon( elements[ 10 ] ) + ',' +\n\t\t\tepsilon( elements[ 11 ] ) + ',' +\n\t\t\tepsilon( elements[ 12 ] ) + ',' +\n\t\t\tepsilon( - elements[ 13 ] ) + ',' +\n\t\t\tepsilon( elements[ 14 ] ) + ',' +\n\t\t\tepsilon( elements[ 15 ] ) +\n\t\t')';\n\n\t}\n\n\tfunction getObjectCSSMatrix( matrix, cameraCSSMatrix ) {\n\n\t\tvar elements = matrix.elements;\n\t\tvar matrix3d = 'matrix3d(' +\n\t\t\tepsilon( elements[ 0 ] ) + ',' +\n\t\t\tepsilon( elements[ 1 ] ) + ',' +\n\t\t\tepsilon( elements[ 2 ] ) + ',' +\n\t\t\tepsilon( elements[ 3 ] ) + ',' +\n\t\t\tepsilon( - elements[ 4 ] ) + ',' +\n\t\t\tepsilon( - elements[ 5 ] ) + ',' +\n\t\t\tepsilon( - elements[ 6 ] ) + ',' +\n\t\t\tepsilon( - elements[ 7 ] ) + ',' +\n\t\t\tepsilon( elements[ 8 ] ) + ',' +\n\t\t\tepsilon( elements[ 9 ] ) + ',' +\n\t\t\tepsilon( elements[ 10 ] ) + ',' +\n\t\t\tepsilon( elements[ 11 ] ) + ',' +\n\t\t\tepsilon( elements[ 12 ] ) + ',' +\n\t\t\tepsilon( elements[ 13 ] ) + ',' +\n\t\t\tepsilon( elements[ 14 ] ) + ',' +\n\t\t\tepsilon( elements[ 15 ] ) +\n\t\t')';\n\n\t\tif ( isIE ) {\n\n\t\t\treturn 'translate(-50%,-50%)' +\n\t\t\t\t'translate(' + _widthHalf + 'px,' + _heightHalf + 'px)' +\n\t\t\t\tcameraCSSMatrix +\n\t\t\t\tmatrix3d;\n\n\t\t}\n\n\t\treturn 'translate(-50%,-50%)' + matrix3d;\n\n\t}\n\n\tfunction renderObject( object, scene, camera, cameraCSSMatrix ) {\n\n\t\tif ( object instanceof CSS3DObject ) {\n\n\t\t\tobject.onBeforeRender( _this, scene, camera );\n\n\t\t\tvar style;\n\n\t\t\tif ( object instanceof CSS3DSprite ) {\n\n\t\t\t\t// http://swiftcoder.wordpress.com/2008/11/25/constructing-a-billboard-matrix/\n\n\t\t\t\tmatrix.copy( camera.matrixWorldInverse );\n\t\t\t\tmatrix.transpose();\n\t\t\t\tmatrix.copyPosition( object.matrixWorld );\n\t\t\t\tmatrix.scale( object.scale );\n\n\t\t\t\tmatrix.elements[ 3 ] = 0;\n\t\t\t\tmatrix.elements[ 7 ] = 0;\n\t\t\t\tmatrix.elements[ 11 ] = 0;\n\t\t\t\tmatrix.elements[ 15 ] = 1;\n\n\t\t\t\tstyle = getObjectCSSMatrix( matrix, cameraCSSMatrix );\n\n\t\t\t} else {\n\n\t\t\t\tstyle = getObjectCSSMatrix( object.matrixWorld, cameraCSSMatrix );\n\n\t\t\t}\n\n\t\t\tvar element = object.element;\n\t\t\tvar cachedObject = cache.objects.get( object );\n\n\t\t\tif ( cachedObject === undefined || cachedObject.style !== style ) {\n\n\t\t\t\telement.style.WebkitTransform = style;\n\t\t\t\telement.style.transform = style;\n\n\t\t\t\tvar objectData = { style: style };\n\n\t\t\t\tif ( isIE ) {\n\n\t\t\t\t\tobjectData.distanceToCameraSquared = getDistanceToSquared( camera, object );\n\n\t\t\t\t}\n\n\t\t\t\tcache.objects.set( object, objectData );\n\n\t\t\t}\n\n\t\t\telement.style.display = object.visible ? '' : 'none';\n\n\t\t\tif ( element.parentNode !== cameraElement ) {\n\n\t\t\t\tcameraElement.appendChild( element );\n\n\t\t\t}\n\n\t\t\tobject.onAfterRender( _this, scene, camera );\n\n\t\t}\n\n\t\tfor ( var i = 0, l = object.children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( object.children[ i ], scene, camera, cameraCSSMatrix );\n\n\t\t}\n\n\t}\n\n\tvar getDistanceToSquared = function () {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\n\t\treturn function ( object1, object2 ) {\n\n\t\t\ta.setFromMatrixPosition( object1.matrixWorld );\n\t\t\tb.setFromMatrixPosition( object2.matrixWorld );\n\n\t\t\treturn a.distanceToSquared( b );\n\n\t\t};\n\n\t}();\n\n\tfunction filterAndFlatten( scene ) {\n\n\t\tvar result = [];\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object instanceof CSS3DObject ) result.push( object );\n\n\t\t} );\n\n\t\treturn result;\n\n\t}\n\n\tfunction zOrder( scene ) {\n\n\t\tvar sorted = filterAndFlatten( scene ).sort( function ( a, b ) {\n\n\t\t\tvar distanceA = cache.objects.get( a ).distanceToCameraSquared;\n\t\t\tvar distanceB = cache.objects.get( b ).distanceToCameraSquared;\n\n\t\t\treturn distanceA - distanceB;\n\n\t\t} );\n\n\t\tvar zMax = sorted.length;\n\n\t\tfor ( var i = 0, l = sorted.length; i < l; i ++ ) {\n\n\t\t\tsorted[ i ].element.style.zIndex = zMax - i;\n\n\t\t}\n\n\t}\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tvar fov = camera.projectionMatrix.elements[ 5 ] * _heightHalf;\n\n\t\tif ( cache.camera.fov !== fov ) {\n\n\t\t\tif ( camera.isPerspectiveCamera ) {\n\n\t\t\t\tdomElement.style.WebkitPerspective = fov + 'px';\n\t\t\t\tdomElement.style.perspective = fov + 'px';\n\n\t\t\t} else {\n\n\t\t\t\tdomElement.style.WebkitPerspective = '';\n\t\t\t\tdomElement.style.perspective = '';\n\n\t\t\t}\n\n\t\t\tcache.camera.fov = fov;\n\n\t\t}\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( camera.isOrthographicCamera ) {\n\n\t\t\tvar tx = - ( camera.right + camera.left ) / 2;\n\t\t\tvar ty = ( camera.top + camera.bottom ) / 2;\n\n\t\t}\n\n\t\tvar cameraCSSMatrix = camera.isOrthographicCamera ?\n\t\t\t'scale(' + fov + ')' + 'translate(' + epsilon( tx ) + 'px,' + epsilon( ty ) + 'px)' + getCameraCSSMatrix( camera.matrixWorldInverse ) :\n\t\t\t'translateZ(' + fov + 'px)' + getCameraCSSMatrix( camera.matrixWorldInverse );\n\n\t\tvar style = cameraCSSMatrix +\n\t\t\t'translate(' + _widthHalf + 'px,' + _heightHalf + 'px)';\n\n\t\tif ( cache.camera.style !== style && ! isIE ) {\n\n\t\t\tcameraElement.style.WebkitTransform = style;\n\t\t\tcameraElement.style.transform = style;\n\n\t\t\tcache.camera.style = style;\n\n\t\t}\n\n\t\trenderObject( scene, scene, camera, cameraCSSMatrix );\n\n\t\tif ( isIE ) {\n\n\t\t\t// IE10 and 11 does not support 'preserve-3d'.\n\t\t\t// Thus, z-order in 3D will not work.\n\t\t\t// We have to calc z-order manually and set CSS z-index for IE.\n\t\t\t// FYI: z-index can't handle object intersection\n\t\t\tzOrder( scene );\n\n\t\t}\n\n\t};\n\n};\n\nexport { CSS3DObject, CSS3DSprite, CSS3DRenderer };\n"],"names":[],"mappings":"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"}